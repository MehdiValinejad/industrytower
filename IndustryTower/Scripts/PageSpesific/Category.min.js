function GategoryTags(n,t,i){$(document).delegate("li#childCat","mouseenter",function(){$This=$(this);$This.find("ul").addClass("CatColoractive");$This.children("ul").slideDown("fast");var i=$This.parents("li#childCat").map(function(){return $(this).data("value")}),r=$This.find("li#childCat").map(function(){return $(this).data("value")}),n=$("div#SelectedCategories .catTags").map(function(){return $(this).data("value")}),t=Array(),u=Array();jQuery.grep(n,function(n){jQuery.inArray(n,i)!=-1&&t.push(n)});jQuery.grep(n,function(n){jQuery.inArray(n,r)!=-1&&u.push(n)});t.length!=0?($(this).parent().addClass("hasParent"),$(this).parents(":eq(1)").find("li").addClass("hasParent"),$(this).find("ul").addClass("hasParent")):$This.addClass("CatColoractive");$(this).mouseleave(function(){$(this).children("ul").slideUp("fast");$(this).removeClass("CatColoractive");$(this).children("ul").removeClass("CatColoractive")})});$(document).delegate("li#childCat span","click",function(){var e,o;if($("div#SelectedCategories .catTags").length>=parseInt(n)){modalApear();modalError(t);return}var s=$(this).parents("li#childCat").map(function(){return $(this).data("value")}),h=$(this).parent().find("li#childCat").map(function(){return $(this).data("value")}),u=$("div#SelectedCategories .catTags").map(function(){return $(this).data("value")}),f=Array(),r=Array();jQuery.grep(u,function(n){jQuery.inArray(n,s)!=-1&&f.push(n)});jQuery.grep(u,function(n){jQuery.inArray(n,h)!=-1&&r.push(n)});f.length===0?($this=$(this),r.length===0?(e=$this.parent("li").data("value"),o=$this.text(),$("div#SelectedCategories .panel-body").append("<div class='catTags green-tag inline-block selectedtag-marg' data-value ='"+e+"'>"+o+"<button type='button' class='close'><span aria-hidden='true'>×<\/span><span class='sr-only'>Close<\/span><\/button><\/div>")):$.each(r,function(n,t){$("div#SelectedCategories .panel-body").children("div[data-value="+t+"]").remove();var i=$this.parent("li").data("value"),r=$this.text();$("div#SelectedCategories").append("<div class='catTags green-tag inline-block selectedtag-marg' data-value ='"+i+"'>"+r+"<button type='button' class='close'><span aria-hidden='true'>×<\/span><span class='sr-only'>Close<\/span><\/button><\/div>")})):(modalApear(),modalError(i));CatBeforeSubmit()});$(document).delegate("div.catTags button","click",function(){$(".hasParent").removeClass("hasParent");$(this).parent().remove();CatBeforeSubmit()})}function CatBeforeSubmit(){var n=[],i=$("div#SelectedCategories .catTags").map(function(){n.push($(this).data("value"))}),t=n.join(",");$("#Cats").val(t)}function PopulateCatTags(){var t=$("#Cats").val(),n;t!=null&&(n={},n=t.split(","),$.each(n,function(n,t){if(t.length>0){var i=$("ul#childsContainer li[data-value='"+t+"']").children("span").text();$("div#SelectedCategories .panel-body").append("<div class='catTags green-tag inline-block selectedtag-marg' data-value ='"+t+"'>"+i+"<button type='button' class='close'><span aria-hidden='true'>×<\/span><span class='sr-only'>Close<\/span><\/button><\/div>")}}))}function CatsColor(){$(document).delegate("span.admin-cat","click",function(){$(this).parent().parent().find("> ul.categories-container").toggle();var n=Math.floor(Math.random()*16777215).toString(16);$(this).parent().parent().find("> ul.categories-container").css("background-color","#"+n)});$("ul.categories-container ul").each(function(n,t){var i=Math.floor(Math.random()*16777215).toString(16);$(t).css("background-color","#"+i)})}