(function(n,t){function h(n,t,i,r){var u=w(i.substr(i.lastIndexOf(n.domain)),n);u&&b(null,r,u,t)}function w(n,t){for(var r,f,l,a,u={theme:s(i.settings.themes.gray,null),stylesheets:t.stylesheets,holderURL:[]},o=!1,c=String.fromCharCode(11),h=n.replace(/([^\\])\//g,"$1"+c).split(c),v=/%[0-9a-f]{2}/gi,y=h.length,e=0;e<y;e++){if(r=h[e],r.match(v))try{r=decodeURIComponent(r)}catch(p){r=h[e]}f=!1;i.flags.dimensions.match(r)?(o=!0,u.dimensions=i.flags.dimensions.output(r),f=!0):i.flags.fluid.match(r)?(o=!0,u.dimensions=i.flags.fluid.output(r),u.fluid=!0,f=!0):i.flags.textmode.match(r)?(u.textmode=i.flags.textmode.output(r),f=!0):i.flags.colors.match(r)?(l=i.flags.colors.output(r),u.theme=s(u.theme,l),f=!0):t.themes[r]?(t.themes.hasOwnProperty(r)&&(u.theme=s(t.themes[r],null)),f=!0):i.flags.font.match(r)?(u.font=i.flags.font.output(r),f=!0):i.flags.auto.match(r)?(u.auto=!0,f=!0):i.flags.text.match(r)?(u.text=i.flags.text.output(r),f=!0):i.flags.random.match(r)&&(i.vars.cache.themeKeys==null&&(i.vars.cache.themeKeys=Object.keys(t.themes)),a=i.vars.cache.themeKeys[0|Math.random()*i.vars.cache.themeKeys.length],u.theme=s(t.themes[a],null),f=!0);f&&u.holderURL.push(r)}return u.holderURL.unshift(t.domain),u.holderURL=u.holderURL.join("/"),o?u:!1}function b(n,t,u,f){var h=u.dimensions,o=u.theme,p=h.width+"x"+h.height,l,v,y,e;if(n=n==null?u.fluid?"fluid":"image":n,u.text!=null&&(o.text=u.text,t.nodeName.toLowerCase()==="object")){for(l=o.text.split("\\n"),v=0;v<l.length;v++)l[v]=ht(l[v]);o.text=l.join("\\n")}y=u.holderURL;e=s(f,null);u.font&&(o.font=u.font,!e.noFontFallback&&t.nodeName.toLowerCase()==="img"&&i.setup.supportsCanvas&&e.renderer==="svg"&&(e=s(e,{renderer:"canvas"})));u.font&&e.renderer=="canvas"&&(e.reRender=!0);n=="background"?t.getAttribute("data-background-src")==null&&r(t,{"data-background-src":y}):r(t,{"data-src":y});u.theme=o;t.holderData={flags:u,renderSettings:e};(n=="image"||n=="fluid")&&r(t,{alt:o.text?(o.text.length>16?o.text.substring(0,16)+"â€¦":o.text)+" ["+p+"]":p});n=="image"?(e.renderer!="html"&&u.auto||(t.style.width=h.width+"px",t.style.height=h.height+"px"),e.renderer=="html"?t.style.backgroundColor=o.background:(a(n,{dimensions:h,theme:o,flags:u},t,e),u.textmode&&u.textmode=="exact"&&(i.vars.resizableImages.push(t),c(t)))):n=="background"&&e.renderer!="html"?a(n,{dimensions:h,theme:o,flags:u},t,e):n=="fluid"&&(h.height.slice(-1)=="%"?t.style.height=h.height:u.auto!=null&&u.auto||(t.style.height=h.height+"px"),h.width.slice(-1)=="%"?t.style.width=h.width:u.auto!=null&&u.auto||(t.style.width=h.width+"px"),(t.style.display=="inline"||t.style.display===""||t.style.display=="none")&&(t.style.display="block"),d(t),e.renderer=="html"?t.style.backgroundColor=o.background:(i.vars.resizableImages.push(t),c(t)))}function a(n,t,u,f){function h(){var n=null;switch(f.renderer){case"canvas":n=ut(s);break;case"svg":n=ft(s,f);break;default:throw"Holder: invalid renderer: "+f.renderer;}return n}var o=null;switch(f.renderer){case"svg":if(!i.setup.supportsSVG)return;break;case"canvas":if(!i.setup.supportsCanvas)return;break;default:return}var e={width:t.dimensions.width,height:t.dimensions.height,theme:t.theme,flags:t.flags},s=tt(e),c={text:e.text,width:e.width,height:e.height,textHeight:e.font.size,font:e.font.family,fontWeight:e.font.weight,template:e.theme};if(o=h(),o==null)throw"Holder: couldn't render placeholder";n=="background"?(u.style.backgroundImage="url("+o+")",u.style.backgroundSize=e.width+"px "+e.height+"px"):(u.nodeName.toLowerCase()==="img"?r(u,{src:o}):u.nodeName.toLowerCase()==="object"&&(r(u,{data:o}),r(u,{type:"image/svg+xml"})),f.reRender&&setTimeout(function(){var n=h();if(n==null)throw"Holder: couldn't render placeholder";u.nodeName.toLowerCase()==="img"?r(u,{src:n}):u.nodeName.toLowerCase()==="object"&&(r(u,{data:n}),r(u,{type:"image/svg+xml"}))},100));r(u,{"data-holder-rendered":!0})}function tt(n){function y(n,t,i,r){t.width=i;t.height=r;n.width=Math.max(n.width,t.width);n.height+=t.height;n.add(t)}var t,u,e,r,c,h,a,w;n.font={family:n.theme.font?n.theme.font:"Arial, Helvetica, Open Sans, sans-serif",size:it(n.width,n.height,n.theme.size?n.theme.size:12),weight:n.theme.fontweight?n.theme.fontweight:"bold"};n.text=n.theme.text?n.theme.text:Math.floor(n.width)+"x"+Math.floor(n.height);switch(n.flags.textmode){case"literal":n.text=n.flags.dimensions.width+"x"+n.flags.dimensions.height;break;case"exact":if(!n.flags.exactDimensions)break;n.text=Math.floor(n.flags.exactDimensions.width)+"x"+Math.floor(n.flags.exactDimensions.height)}var s=new nt({width:n.width,height:n.height}),f=s.Shape,v=new f.Rect("holderBg",{fill:n.theme.background});if(v.resize(n.width,n.height),s.root.add(v),t=new f.Group("holderTextGroup",{text:n.text,align:"center",font:n.font,fill:n.theme.foreground}),t.moveTo(null,null,1),s.root.add(t),u=t.textPositionData=rt(s),!u)throw"Holder: staging fallback not supported yet.";if(t.properties.leading=u.boundingBox.height,e=null,r=null,u.lineCount>1){var o=0,p=0,b=n.width*i.setup.lineWrapRatio,l=0;for(r=new f.Group("line"+l),c=0;c<u.words.length;c++)(h=u.words[c],e=new f.Text(h.text),a=h.text=="\\n",(o+h.width>=b||a===!0)&&(y(t,r,o,t.properties.leading),o=0,p+=t.properties.leading,l+=1,r=new f.Group("line"+l),r.y=p),a!==!0)&&(e.moveTo(o,0),o+=u.spaceWidth+h.width,r.add(e));y(t,r,o,t.properties.leading);for(w in t.children)r=t.children[w],r.moveTo((t.width-r.width)/2,null,null);t.moveTo((n.width-t.width)/2,(n.height-t.height)/2,null);(n.height-t.height)/2<0&&t.moveTo(null,0,null)}else e=new f.Text(n.text),r=new f.Group("line0"),r.add(e),t.add(r),t.moveTo((n.width-u.boundingBox.width)/2,(n.height-u.boundingBox.height)/2,null);return s}function it(n,t,i){t=parseInt(t,10);n=parseInt(n,10);var r=Math.max(t,n),u=Math.min(t,n),f=Math.min(u*.75,.75*r*(1/12));return Math.round(Math.max(i,f))}function c(n){var e,s,f,t,r,o,h;e=n==null||n.nodeType==null?i.vars.resizableImages:[n];for(s in e)if(e.hasOwnProperty(s)&&(f=e[s],f.holderData&&(t=f.holderData.flags,r=k(f,u.invisibleErrorFn(c)),r))){if(t.fluid&&t.auto){o=f.holderData.fluidConfig;switch(o.mode){case"width":r.height=r.width/o.ratio;break;case"height":r.width=r.height*o.ratio}}h={dimensions:r,theme:t.theme,flags:t};t.textmode&&t.textmode=="exact"&&(t.exactDimensions=r,h.dimensions=t.dimensions);a("image",h,f,f.holderData.renderSettings)}}function k(n,t){var i={height:n.clientHeight,width:n.clientWidth};if(i.height||i.width)return n.removeAttribute("data-holder-invisible"),i;r(n,{"data-holder-invisible":!0});t.call(this,n)}function d(n){var r,i,t;n.holderData&&(r=k(n,u.invisibleErrorFn(d)),r&&(i=n.holderData.flags,t={fluidHeight:i.dimensions.height.slice(-1)=="%",fluidWidth:i.dimensions.width.slice(-1)=="%",mode:null,initialDimensions:r},t.fluidWidth&&!t.fluidHeight?(t.mode="width",t.ratio=t.initialDimensions.width/parseFloat(i.dimensions.height)):!t.fluidWidth&&t.fluidHeight&&(t.mode="height",t.ratio=parseFloat(i.dimensions.width)/t.initialDimensions.height),n.holderData.fluidConfig=t))}function f(n,t){return t==null?e.createElement(n):e.createElementNS(t,n)}function r(n,t){for(var i in t)n.setAttribute(i,t[i])}function v(n,t,i){if(n==null){n=f("svg",o);var u=f("defs",o);n.appendChild(u)}return n.webkitMatchesSelector&&n.setAttribute("xmlns",o),r(n,{width:t,height:i,viewBox:"0 0 "+t+" "+i,preserveAspectRatio:"none"}),n}function et(n,i){var r,u,h,c,f;if(t.XMLSerializer){var e=new XMLSerializer,o="",s=i.stylesheets,l=n.querySelector("defs");if(i.svgXMLStylesheet){for(r=(new DOMParser).parseFromString("<xml />","application/xml"),u=s.length-1;u>=0;u--)h=r.createProcessingInstruction("xml-stylesheet",'href="'+s[u]+'" rel="stylesheet"'),r.insertBefore(h,r.firstChild);c=r.createProcessingInstruction("xml",'version="1.0" encoding="UTF-8" standalone="yes"');r.insertBefore(c,r.firstChild);r.removeChild(r.documentElement);o=e.serializeToString(r)}return f=e.serializeToString(n),f=f.replace(/\&amp;(\#[0-9]{2,}\;)/g,"&$1"),o+f}}function s(n,t){var u={},i,r;for(i in n)n.hasOwnProperty(i)&&(u[i]=n[i]);if(t!=null)for(r in t)t.hasOwnProperty(r)&&(u[r]=t[r]);return u}function g(n){var i=[];for(var t in n)n.hasOwnProperty(t)&&i.push(t+":"+n[t]);return i.join(";")}function ot(n){i.vars.debounceTimer||n.call(this);i.vars.debounceTimer&&clearTimeout(i.vars.debounceTimer);i.vars.debounceTimer=setTimeout(function(){i.vars.debounceTimer=null;n.call(this)},i.setup.debounce)}function y(){ot(function(){c(null)})}function l(n){var i=null;return typeof n=="string"?i=e.querySelectorAll(n):t.NodeList&&n instanceof t.NodeList?i=n:t.Node&&n instanceof t.Node?i=[n]:t.HTMLCollection&&n instanceof t.HTMLCollection?i=n:n===null&&(i=[]),i}function st(n,t){var i=new Image;i.onerror=function(){t.call(this,!1,n)};i.onload=function(){t.call(this,!0,n)};i.src=n.src}function ht(n){for(var i=[],r=0,t=n.length-1;t>=0;t--)r=n[t].charCodeAt(),r>128?i.unshift(["&#",r,";"].join("")):i.unshift(n[t]);return i.join("")}function ct(n){return n.replace(/&#(\d+);/g,function(n,t){return String.fromCharCode(t)})}var o="http://www.w3.org/2000/svg",e=t.document,u={addTheme:function(n,t){return n!=null&&t!=null&&(i.settings.themes[n]=t),delete i.vars.cache.themeKeys,this},addImage:function(n,t){var u=e.querySelectorAll(t),i,s,o;if(u.length)for(i=0,s=u.length;i<s;i++)o=f("img"),r(o,{"data-src":n}),u[i].appendChild(o);return this},run:function(n){var e,r,u,p,et,v,ot,k,nt,ct,tt,it,d,c,lt,at,a,o;n=n||{};e={};i.vars.preempted=!0;r=s(i.settings,n);e.renderer=r.renderer?r.renderer:i.setup.renderer;i.setup.renderers.join(",").indexOf(e.renderer)===-1&&(e.renderer=i.setup.supportsSVG?"svg":i.setup.supportsCanvas?"canvas":"html");r.use_canvas?e.renderer="canvas":r.use_svg&&(e.renderer="svg");var rt=l(r.images),g=l(r.bgnodes),ut=l(r.stylenodes),ft=l(r.objects);for(e.stylesheets=[],e.svgXMLStylesheet=!0,e.noFontFallback=r.noFontFallback?r.noFontFallback:!1,u=0;u<ut.length;u++)p=ut[u],p.attributes.rel&&p.attributes.href&&p.attributes.rel.value=="stylesheet"&&(et=p.attributes.href.value,v=f("a"),v.href=et,ot=v.protocol+"//"+v.host+v.pathname+v.search,e.stylesheets.push(ot));for(u=0;u<g.length;u++){var yt=t.getComputedStyle(g[u],null).getPropertyValue("background-image"),ht=g[u].getAttribute("data-background-src"),y=null;y=ht==null?yt:ht;k=null;nt="?"+r.domain+"/";y.indexOf(nt)===0?k=y.slice(1):y.indexOf(nt)!=-1&&(ct=y.substr(y.indexOf(nt)).slice(1),tt=ct.match(/([^\"]*)"?\)/),tt!=null&&(k=tt[1]));k!=null&&(it=w(k,r),it&&b("background",g[u],it,e))}for(u=0;u<ft.length;u++){d=ft[u];c={};try{c.data=d.getAttribute("data");c.dataSrc=d.getAttribute("data-src")}catch(bt){}lt=c.data!=null&&c.data.indexOf(r.domain)===0;at=c.dataSrc!=null&&c.dataSrc.indexOf(r.domain)===0;lt?h(r,e,c.data,d):at&&h(r,e,c.dataSrc,d)}for(u=0;u<rt.length;u++){a=rt[u];o={};try{o.src=a.getAttribute("src");o.dataSrc=a.getAttribute("data-src");o.rendered=a.getAttribute("data-holder-rendered")}catch(bt){}var pt=o.src!=null,vt=o.dataSrc!=null&&o.dataSrc.indexOf(r.domain)===0,wt=o.rendered!=null&&o.rendered=="true";pt?o.src.indexOf(r.domain)===0?h(r,e,o.src,a):vt&&(wt?h(r,e,o.dataSrc,a):st({src:o.src,options:r,renderSettings:e,dataSrc:o.dataSrc,image:a},function(n,t){n||h(t.options,t.renderSettings,t.dataSrc,t.image)})):vt&&h(r,e,o.dataSrc,a)}return this},invisibleErrorFn:function(){return function(n){if(n.hasAttribute("data-holder-invisible"))throw"Holder: invisible placeholder";}}},i,nt,p;u.add_theme=u.addTheme;u.add_image=u.addImage;u.invisible_error_fn=u.invisibleErrorFn;i={settings:{domain:"holder.js",images:"img",objects:"object",bgnodes:"body .holderjs",stylenodes:"head link.holderjs",stylesheets:[],themes:{gray:{background:"#EEEEEE",foreground:"#AAAAAA"},social:{background:"#3a5a97",foreground:"#FFFFFF"},industrial:{background:"#434A52",foreground:"#C2F200"},sky:{background:"#0D8FDB",foreground:"#FFFFFF"},vine:{background:"#39DBAC",foreground:"#1E292C"},lava:{background:"#F8591A",foreground:"#1C2846",size:12}}},flags:{dimensions:{regex:/^(\d+)x(\d+)$/,output:function(n){var t=this.regex.exec(n);return{width:+t[1],height:+t[2]}}},fluid:{regex:/^([0-9]+%?)x([0-9]+%?)$/,output:function(n){var t=this.regex.exec(n);return{width:t[1],height:t[2]}}},colors:{regex:/(?:#|\^)([0-9a-f]{3,})\:(?:#|\^)([0-9a-f]{3,})/i,output:function(n){var t=this.regex.exec(n);return{foreground:"#"+t[2],background:"#"+t[1]}}},text:{regex:/text\:(.*)/,output:function(n){return this.regex.exec(n)[1].replace("\\/","/")}},font:{regex:/font\:(.*)/,output:function(n){return this.regex.exec(n)[1]}},auto:{regex:/^auto$/},textmode:{regex:/textmode\:(.*)/,output:function(n){return this.regex.exec(n)[1]}},random:{regex:/^random$/}}};var rt=function(){var n=null,t=null,u=null;return function(s){var a=s.root,y,b,k,h,c,tt;if(i.setup.supportsSVG){y=!1;b=function(n){return e.createTextNode(n)};n==null&&(y=!0);n=v(n,a.properties.width,a.properties.height);y&&(t=f("text",o),u=b(null),r(t,{x:0}),t.appendChild(u),n.appendChild(t),e.body.appendChild(n),n.style.visibility="hidden",n.style.position="absolute",n.style.top="-100%",n.style.left="-100%");k=a.children.holderTextGroup;h=k.properties;r(t,{y:h.font.size,style:g({"font-weight":h.font.weight,"font-size":h.font.size+"px","font-family":h.font.family,"dominant-baseline":"middle"})});u.nodeValue=h.text;var p=t.getBBox(),w=Math.ceil(p.width/(a.properties.width*i.setup.lineWrapRatio)),l=h.text.split(" "),d=h.text.match(/\\n/g);w+=d==null?0:d.length;u.nodeValue=h.text.replace(/[ ]+/g,"");var it=t.getComputedTextLength(),rt=p.width-it,ut=Math.round(rt/Math.max(1,l.length-1)),nt=[];if(w>1)for(u.nodeValue="",c=0;c<l.length;c++)l[c].length!==0&&(u.nodeValue=ct(l[c]),tt=t.getBBox(),nt.push({text:l[c],width:tt.width}));return{spaceWidth:ut,lineCount:w,boundingBox:p,words:nt}}return!1}}(),ut=function(){var t=f("canvas"),n=null;return function(r){var f,u,c,s,e,h;n==null&&(n=t.getContext("2d"));f=r.root;t.width=i.dpr(f.properties.width);t.height=i.dpr(f.properties.height);n.textBaseline="middle";n.fillStyle=f.children.holderBg.properties.fill;n.fillRect(0,0,i.dpr(f.children.holderBg.width),i.dpr(f.children.holderBg.height));u=f.children.holderTextGroup;c=u.properties;n.font=u.properties.font.weight+" "+i.dpr(u.properties.font.size)+"px "+u.properties.font.family+", monospace";n.fillStyle=u.properties.fill;for(s in u.children){e=u.children[s];for(h in e.children){var o=e.children[h],l=i.dpr(u.x+e.x+o.x),a=i.dpr(u.y+e.y+o.y+u.properties.leading/2);n.fillText(o.properties.text,l,a)}}return t.toDataURL("image/png")}}(),ft=function(){if(t.XMLSerializer){var n=v(null,0,0),i=f("rect",o);return n.appendChild(i),function(t,u){var s=t.root,a,c,k,l,d;for(v(n,s.properties.width,s.properties.height),a=n.querySelectorAll("g"),c=0;c<a.length;c++)a[c].parentNode.removeChild(a[c]);r(i,{width:s.children.holderBg.width,height:s.children.holderBg.height,fill:s.children.holderBg.properties.fill});var h=s.children.holderTextGroup,y=h.properties,b=f("g",o);n.appendChild(b);for(k in h.children){l=h.children[k];for(d in l.children){var p=l.children[d],tt=h.x+l.x+p.x,it=h.y+l.y+p.y+h.properties.leading/2,w=f("text",o),nt=e.createTextNode(null);r(w,{x:tt,y:it,style:g({fill:y.fill,"font-weight":y.font.weight,"font-family":y.font.family+", monospace","font-size":y.font.size+"px","dominant-baseline":"central"})});nt.nodeValue=p.properties.text;w.appendChild(nt);b.appendChild(w)}}return"data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(et(n,u))))}}}();nt=function(n){function r(n,t){for(var i in t)n[i]=t[i];return n}var t=1,i=augment.defclass({constructor:function(n){t++;this.parent=null;this.children={};this.id=t;this.name="n"+t;n!=null&&(this.name=n);this.x=0;this.y=0;this.z=0;this.width=0;this.height=0},resize:function(n,t){n!=null&&(this.width=n);t!=null&&(this.height=t)},moveTo:function(n,t,i){this.x=n!=null?n:this.x;this.y=t!=null?t:this.y;this.z=i!=null?i:this.z},add:function(n){var t=n.name;if(this.children[t]==null)this.children[t]=n,n.parent=this;else throw"SceneGraph: child with that name already exists: "+t;}}),u=augment(i,function(t){this.constructor=function(){t.constructor.call(this,"root");this.properties=n}}),f=augment(i,function(n){function t(t,i){if(n.constructor.call(this,t),this.properties={fill:"#000"},i!=null)r(this.properties,i);else if(t!=null&&typeof t!="string")throw"SceneGraph: invalid node name";}this.Group=augment.extend(this,{constructor:t,type:"group"});this.Rect=augment.extend(this,{constructor:t,type:"rect"});this.Text=augment.extend(this,{constructor:function(n){t.call(this);this.properties.text=n},type:"text"})}),e=new u;return this.Shape=f,this.root=e,this};for(p in i.flags)i.flags.hasOwnProperty(p)&&(i.flags[p].match=function(n){return n.match(this.regex)});if(i.setup={renderer:"html",debounce:100,ratio:1,supportsCanvas:!1,supportsSVG:!1,lineWrapRatio:.9,renderers:["html","canvas","svg"]},i.dpr=function(n){return n*i.setup.ratio},i.vars={preempted:!1,resizableImages:[],debounceTimer:null,cache:{}},function(){var u=1,s=1,r=f("canvas"),n=null;r.getContext&&r.toDataURL("image/png").indexOf("data:image/png")!=-1&&(i.setup.renderer="canvas",n=r.getContext("2d"),i.setup.supportsCanvas=!0);i.setup.supportsCanvas&&(u=t.devicePixelRatio||1,s=n.webkitBackingStorePixelRatio||n.mozBackingStorePixelRatio||n.msBackingStorePixelRatio||n.oBackingStorePixelRatio||n.backingStorePixelRatio||1);i.setup.ratio=u/s;!e.createElementNS||!e.createElementNS(o,"svg").createSVGRect||(i.setup.renderer="svg",i.setup.supportsSVG=!0)}(),n(u,"Holder",t),t.onDomReady)t.onDomReady(function(){i.vars.preempted||u.run();t.addEventListener?(t.addEventListener("resize",y,!1),t.addEventListener("orientationchange",y,!1)):t.attachEvent("onresize",y);typeof t.Turbolinks=="object"&&t.document.addEventListener("page:change",function(){u.run()})})})(function(n,t,i){var r=typeof define=="function"&&define.amd,u=typeof exports=="object",f=!u;r?define(n):i[t]=n},this);